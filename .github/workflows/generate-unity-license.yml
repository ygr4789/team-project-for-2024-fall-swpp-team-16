name: Acquire unity activation file

on:
  push:
    branches: [ main ]
    
    # Unity ë²„ì „ ë³€ê²½ ì‹œ ì•„ë˜ Jobì„ ì‹¤í–‰í•˜ë„ë¡ í•¨
    # ìµœì´ˆ ì‹¤í–‰ ì‹œì—ëŠ” ì•„ë˜ ì¡°ê±´ì„ ì œê±°í•´ì•¼ Actionì´ ì‹¤í–‰ë©ë‹ˆë‹¤ 
    # paths: 
    #   - "ProjectSettings/ProjectVersion.txt"

env:
  # ì‚¬ìš©í•˜ê³  ìˆëŠ” Unity version 
  unityVersion: 2021.3.42f1

jobs:
  activation:
    name: Request manual activation file ğŸ”‘
    runs-on: ubuntu-latest
    
    steps:
      # Unity í™œì„±í™” ìš”ì²­ íŒŒì¼ ìƒì„±
      - name: Request manual activation file
        id: getManualLicenseFile
        uses: webbertakken/unity-request-manual-activation-file@v1.1
        with:
          unityVersion: ${{ env.unityVersion }}

      # ìš”ì²­ íŒŒì¼ì„ Artifactsë¡œ ì—…ë¡œë“œ
      - name: Upload activation request file
        uses: actions/upload-artifact@v3
        with:
          name: unity_activation_request_file
          path: ${{ steps.getManualLicenseFile.outputs.filePath }}
